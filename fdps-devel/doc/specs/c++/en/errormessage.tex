\subsection{Abstract}

FDPS equips features to detect compile time and run time errors. We
describe errors detectable by FDPS, and how to deal with these
errors. Note that unknown errors possibly happen. At that time, please
inform us.
%%FDPSではのコンパイル時もしくは実行時のエラー検出機能を備えている。こ
%%こでは、FDPSで検出可能なエラーとその場合の対処について記述する。ただ
%%し、ここに記述されていないエラーも起こる可能性がある。（その場合は開
%%発者に報告していただけると助かります。）

\subsection{Compile time errors}

(Not written yet)

\subsection{Run time errors}

In run time error, FDPS outputs error messages in the following
format, and terminates the program by PS::Abort(-1).
%%FDPSが実行時エラーを検出すると標準エラー出力に以下のような書式でメッ
%%セージを出力し、PS::Abort(-1)によってプログラムを終了する。

\begin{screen}
  PS\_ERROR: \textit{ERROR MESSAGE}
  
  function: \textit{FUNCTION NAME}, line: \textit{LINE NUMBER}, file:
  \textit{FILE NAME}
\end{screen}

\begin{itemize}
\item \textit{ERROR MESSAGE}

  Error message.
%  エラーメッセージ

\item \textit{FUNCTION NAME}

  Function name in which an error happens.
%  エラーが起こった関数の名前

\item \textit{LINE NUMBER}

  Line number in which an error happens.
%  エラーが起こった行番号
  
\item \textit{FILE NAME}

  File name in which an error happens.
%  エラーが起こったファイルの名前
    
\end{itemize}

We list run time errors below.
%以下、FDPSで用意されている実行時エラーメッセージを列挙していく。

\subsubsection{PS\_ERROR: can not open input file}

This message indicates that there is no input file specified by users,
when the file input functions in FDPS are called.
%%ユーザーがFDPSのファイル入力関数を使っており、ユーザーが指定した入力
%%ファイルがなかった場合に表示される。

The following message follows the error message.
%エラーメッセジのあとに以下のメッセージも標準エラー出力に表示される。

\begin{screen}
  input file: ``input file name''
\end{screen}


\subsubsection{PS\_ERROR: can not open output file}

This message indiates that there is no output file specified by users,
when the file output functions in FDPS are called.
%%ユーザーがFDPSのファイル出力関数を使っており、ユーザーが指定した出力
%%ファイルがなかった場合に表示される。

The following message follows the error message.
%エラーメッセジのあとに以下のメッセージも標準エラー出力に表示される。

\begin{screen}
  output file: ``output file name''
\end{screen}


\subsubsection{PS\_ERROR: Do not initialize the tree twice}

This message indicates that PS::TreeForForce::initialize(...) is
called twice for the same tree object. Users can call this function
only once.
%%同一のツリーオブジェクトに対して関数
%%{PS::TreeForForce::initialize(...)}を２度呼び出した場合に表示される。
%%同一のツリーオブジェクトに対して{PS::TreeForForce::initialize(...)}の
%%呼び出しを一回にする。


\subsubsection{PS\_ERROR: The opening criterion of the tree must be $>=$ 0.0}

This message indicates that a negative value is input into opening
criterion of tree for long-distance force modes.
%%長距離力モードでツリーのオープニングクライテリオンに負の値が入力され
%%た場合に表示される。関数{PS::TreeForForce::initialize(...)}を使ってオー
%%プニングクライテリオンに0以上の値を指定する必要がある。

The following message follows the above message to the standard
error.
%エラーメッセジのあとに以下のメッセージも標準エラー出力に表示される。

\begin{screen}
  theta\_= ``input value for opening criterion''

  SEARCH\_MODE: ``data type for search mode''

  Force: ``Type name for tree force''

  EPI: ``type name for EPI''

  EPJ: ``type name for EPJ''

  SPJ: ``type name for SPJ''
  
\end{screen}

\subsubsection{PS\_ERROR: The limit number of the particles in the leaf cell must be $>$ 0}

This message indicates that a negative value is input into maximum
particle number for a tree leaf cell.
%%長距離力モードでツリーのリーフセルの最大粒子数に負の値が入力された場
%%合に表示される。関数{PS::TreeForForce::initialize(...)}を使ってリーフ
%%セルの最大粒子数に正の整数を指定する必要がある。

The following message follows the above message to the standard error.
%エラーメッセジのあとに以下のメッセージも標準エラー出力に表示される。

\begin{screen}
  n\_leaf\_limit\_=''input value for the maximum particle number in tree leaf cell''

  SEARCH\_MODE: ``data type for search mode''

  Force: ``Type name for tree force''

  EPI: ``type name for EPI''

  EPJ: ``type name for EPJ''

  SPJ: ``type name for SPJ''
  
\end{screen}

\subsubsection{PS\_ERROR: The limit number of particles in ip groups msut be $>=$ that in leaf cells}

This message indicates that the maximum particle number for a leaf
cell is more than the maximum particle number for a $i$-group particle
number, and when long-distant force modes are chosen.
%%長距離力モードでツリーのリーフセルの最大粒子数がi粒子グループの粒子の
%%最大数より大きかった場合に表示される。関数
%%{PS::TreeForForce::initialize(...)}を使ってi粒子グループの最大粒子数
%%をリーフセルの最大粒子数以上にする必要がある。

The following message follows the above message to the standard error.
%エラーメッセジのあとに以下のメッセージも標準エラー出力に表示される。

\begin{screen}
  n\_leaf\_limit\_=''Input the maximum particle number in a leaf
  cell''

  n\_grp\_limit\_=''Input the maximum particle number in a $i$-group
  particle number''

  SEARCH\_MODE: ``data type for search mode''

  Force: ``Type name for tree force''

  EPI: ``type name for EPI''

  EPJ: ``type name for EPJ''

  SPJ: ``type name for SPJ''
  
\end{screen}

\subsubsection{PS\_ERROR: The number of particles of this process is beyond the FDPS limit number}

This message indicates that users deal with more than 2G(G=$2^{30}$)
particles per MPI process.
%%FDPSでは1プロセスあたりに扱える粒子数は2G(G=$2^30$)であり、それ以上の
%%粒子を確保しようとした場合に表示される。この場合、プロセス数を増やす
%%などして、1プロセスあたりの粒子数を減らす必要がある。

\subsubsection{PS\_ERROR: The forces w/o cutoff can be evaluated only under the open boundary condition}

Thie message indicates that users set long-distance force without
cutoff under periodic boundary condition.
%%開放境界以外の条件下でカットオフなし長距離力を設定した場合に表示され
%%る。カットオフなし長距離力の計算では必ず、開放境界条件を使う。無限遠
%%までの粒子からの力を計算したい場合はカットオフあり長距離力の計算を
%%FDPSで行い、カットオフ外からの力の計算は外部モジュールであるParticle
%%Meshを使う事ができる。

\subsubsection{PS\_ERROR: A particle is out of root domain}

This message indicates that when the user program set the root domain
by using function \\ PS::DomainInfo::setRootDomain(...), any particle
is outside the root domain. Particularly under periodic boudnary
condition, the user program should shift particles from outside of the
root domain to inside. For this purpose, we recommend the use of
function
\texttt{PS::ParticleSystem::adjustPositionIntoRootDomain(...)}.
%%ユーザーが\textit{PS::DomainInfo::setRootDomain(...)}関数を用いてルー
%%トドメインを設定しており、粒子がそのルートドメインからはみ出していた
%%場合に表示される。周期境界条件の場合はユーザーは粒子をルートドメイン
%%内に収まるように位置座標をシフトする必要がある。FDPSでは粒子をルート
%%ドメイン内にシフトする関数
%%\textit{PS::ParticleSystem::adjustPositionIntoRootDomain(...)}を用意
%%しており、それを使うこともできる。

The following message follows the above message to the standard
error.
%エラーメッセジのあとに以下のメッセージも標準エラー出力に表示される。

\begin{screen}
  position of the particle=''position of particles outside''
%  position of the particle=''粒子の座標''

  position of the root domain=''coordinates of the root domain''
%  position of the root domain=''ルートドメインの座標''
\end{screen}


\subsubsection{PS\_ERROR: The smoothing factor of an exponential moving average is must between 0 and 1.}

This message indicates that users set the value which is less than 0
or grater than 1 as the smoothing factor of an exponential moving
average by using function \\ {\tt PS::DomainInfo::initialize(...)}.

%ユーザーが\textit{PS::DomainInfo::initialize(...)}関数を用いて平滑化係
%数に0未満もしくは1を超える値を設定した場合に表示される。エラーメッセ
%ジのあとに以下のメッセージも標準エラー出力に表示される。

The following message follows the above message to the
standard error.
\begin{screen}
  The smoothing factor of an exponential moving average=''The smoothing factor''
  %The smoothing factor of an exponential moving average=''平滑化係数の値''
\end{screen}

\subsubsection{PS\_ERROR: The coodinate of the root domain is inconsistent.}

This message indicates that users set the coordinate of the lower
vertex to be greater than the corresponding coordinate of the higher
vertex by using function \\ {\tt PS::DomainInfo::setPosRootDomain(...)}.

%ユーザーが\textit{PS::DomainInfo::setPosRootDomain(...)}関数を用いてルー
%トドメインを設定した時に、ユーザーが設定した小さい側の頂点の座標の任意
%の成分が大きい側の頂点の対応する座標の値よりも大きかった場合に表示され
%る。エラーメッセジのあとに以下のメッセージも標準エラー出力に表示される。

The following message follows the above message for the standard
error.
\begin{screen}
  The coordinate of the low vertex of the rood domain=''The coordinate of the lower vertex''
  The coordinate of the high vertex of the rood domain=''The coordinate of the higher vertex''  
\end{screen}


\subsubsection{PS\_ERROR: Vector invalid accesse}
\label{sec:errormessage:vector_invalid_access}

This message indicates that users refer to an invalid element in the
Vector class by using the operator ``[]''.

The following message follows the above message for the standard
error.
\begin{screen}
  Vector element=''element user reffered'' is not valid
\end{screen}
