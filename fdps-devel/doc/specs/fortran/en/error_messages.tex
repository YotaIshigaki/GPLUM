In this chapter, we describe the error messages that are output when you execute a program developed using FDPS Fortran/C interface. FDPS Fortran/C interface uses FDPS. Therefore, we first describe the error messages output by FDPS itself. Then, we describe those specific to FDPS Fortran/C interface.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{FDPS}
\label{sec:err_msg:FDPS}
In this section, we describe the error messages output by FDPS itself. Please be aware the following points :
\begin{itemize}[leftmargin=*,itemsep=-1ex]
\item The names of data types, functions, APIs defined in FDPS are used.
\item Technical terms of C++ language are used.
\item The errors that are not occurred in as far as FDPS Fortran/C interface is used are also described.
\end{itemize}

% C++仕様書の当該部分のインクルード
\input{../../c++/en/errormessage.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{FDPS Fortran/C interface}
\label{sec:err_msg:FDPS_ftn_if}
In this section, we describe the error messages specific to FDPS Fortran/C interface.

%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Compile time errors}
FDPS Fortran/C interface does not have a function that detects compile errors.

%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Runtime errors}
In run time error, FDPS Fortran/C interface outputs error messages in the following format, and terminates the program by \texttt{PS\_abort(-1)}.

\begin{screen}
\begin{Verbatim}[commandchars=\\\{\}]
*** PS\_FTN\_IF\_ERROR ***
message:  \vrbit{error_message}
function: \vrbit{function_name}
file:     \vrbit{file_name}
\end{Verbatim} 
\end{screen}
where
\begin{table}[H]
\begin{tabularx}{\linewidth}{cX}
\toprule
\rowcolor{Snow2}
Name & Definition \\
\midrule
\textit{\texttt{error\_message}} & Error message \\
\textit{\texttt{function\_name}} & The name of subroutine or function that detects an error. \\
\textit{\texttt{file\_name}}     & The name of the file that defines the subroutine or function above. \\
\bottomrule
\end{tabularx}
\end{table}

We list runtime errors below.

%%%%%%%%
\subsubsection{FullParticle `\textit{Name of FullParticle-type}` does not exist}
This message indicates that a string of characters that are not any name of FullParticle types is passed to the API \path{create_psys}.

%%%%%%%%
\subsubsection{An invalid ParticleSystem number is received}
This message indicates that an invalid identification number of ParticleSystem object is passed to APIs.

%%%%%%%%
\subsubsection{cannot create Tree `\textit{Type of Tree object}`}
This message indicates that an invalid type is specified in the API \path{create_tree}. This error occurs, for example, when users try to create a Tree object for short-range force using EssentialParticleJ-type that have not the search radius.

%%%%%%%%
\subsubsection{An invalid Tree number is received}
This message indicates that an invalid identification number of Tree object is passed to APIs.

%%%%%%%%
\subsubsection{The combination psys\_num and tree\_num is invalid}
This messages indicates that the following cases are detected in the APIs \path{calc_force_all_and_write_back},\path{calc_force_all}, and \path{calc_force_and_write_back}:
\begin{itemize}[leftmargin=*,itemsep=-1ex]
\item The combination of identification numbers of ParticleSystem object and Tree objects is invalid.
\item There are no ParticleSystem object and/or Tree object specified by the identification numbers passed by users.
\end{itemize}

%%%%%%%%
\subsubsection{tree\_num passed is invalid}
This message indicates that an invalid identification number of Tree object is passed to APIs.

%%%%%%%%
\subsubsection{EssentialParticleJ specified does not have a member variable representing the search radius or Tree specified does not support neighbor search}
This messages indicates that the following cases are detected in the API \path{get_neighbor_list}:
\begin{itemize}[leftmargin=*,itemsep=-1ex]
\item EssentialParticleJ not having the search radius was used when the Tree object specified by users was created. 
\item The Tree object does not support neighbor search.
\end{itemize}

The following message follows the message above.
\begin{screen}
\begin{Verbatim}[commandchars=\\\{\}]
Please check the definitions of EssentialParticleJ
and tree object:
 - EssentialParticleJ: \vrbit{EPJ_name}
 - TreeInfo: \vrbit{tree_info}
\end{Verbatim}
\end{screen}
where
\begin{table}[H]
\begin{tabularx}{\linewidth}{cX}
\toprule
\rowcolor{Snow2}
Name & Definition \\
\midrule
\textit{\texttt{EPJ\_name}} & The name of EssentialParticleJ type used in the creation of the Tree object. \\
\textit{\texttt{tree\_info}} & The type of the Tree object (see Chap.~\ref{chap:API_spec_list} \S~\ref{sec:tree_APIs}) \\
\bottomrule
\end{tabularx}
\end{table}

%%%%%%%%
\subsubsection{Unknown boundary condition is specified}
This message indicates that an invalid enumerator is passed to the API \path{set_boundary_condition}.
