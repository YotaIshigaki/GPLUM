\documentclass[12pt,a4paper]{jarticle}%\topmargin=-5mm\oddsidemargin=-5mm\evensidemargin=-5mm\textheight=235mm\textwidth=165mm%\title{FDPS議題}\author{谷川}\date{}%\pagestyle{empty}\usepackage{graphicx}\usepackage{wrapfig}\usepackage{lscape}\usepackage{amssymb}\usepackage{amsmath}\usepackage{bm}\usepackage{setspace}\usepackage{listings,jlisting}\usepackage{color}\usepackage{ascmac}\usepackage{here}\usepackage[dvipdfmx]{hyperref}\usepackage{pxjahyper}\newcommand{\underbold}[1]{\underline{\bf #1}}\newcommand{\redtext}[1]{\textcolor{red}{#1}}%\setcounter{secnumdepth}{4}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\setcounter{secnumdepth}{6}\makeatletter\newcounter{subsubparagraph}[subparagraph]\renewcommand\thesubsubparagraph{\thesubparagraph.\@arabic\c@subsubparagraph}\newcommand\subsubparagraph{\@startsection{subsubparagraph}{6}{\parindent}%                                       {3.25ex \@plus1ex \@minus .2ex}%                                       {-1em}%                              {\normalfont\normalsize\bfseries}}\newcommand*\l@subsubparagraph{\@dottedtocline{6}{10em}{5em}}\newcommand{\subsubsubsection}{\@startsection{paragraph}{4}{\z@}%{1.5\baselineskip \@plus.5\dp0 \@minus.2\dp0}%{.5\baselineskip \@plus2.3\dp0}%{\reset@font\normalsize\bfseries}}\newcommand{\subsubsubsubsection}{\@startsection{subparagraph}{5}{\z@}%{1.5\baselineskip \@plus.5\dp0 \@minus.2\dp0}%{.5\baselineskip \@plus2.3\dp0}%{\reset@font\normalsize\itshape}}\newcommand{\subsubsubsubsubsection}{\@startsection{subsubparagraph}{6}{\z@}%{1.5\baselineskip \@plus.5\dp0 \@minus.2\dp0}%{.5\baselineskip \@plus2.3\dp0}%{\reset@font\normalsize\itshape}}\setcounter{tocdepth}{6}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\twocolumn%\setstretch{1.5}\lstset{language = C,numbers = left,numbersep = 8pt,breaklines = true,breakindent = 40pt,frame = lines,basicstyle = \ttfamily,}\begin{document}\maketitle\tableofcontents\newpage%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\section{15/02/10}\begin{itemize}\item ユーザーチュートリアル構成  \begin{itemize}  \item 目次作った  \end{itemize}\item 外部仕様書構成  \begin{itemize}  \item 目次作った  \end{itemize}\item テストスィート構成  \begin{itemize}  \item 項目作った  \end{itemize}\item エラー処理素案  \begin{itemize}  \item エラー処理の仕方 \redtext{(わかりやすいメッセージを吐いて    MPI\_Abort)}    \begin{itemize}    \item 例外処理(メッセージを吐いて、throwしっぱなし／こっちが      MPI\_abort)    \item 例外処理をやらないというオプション    \end{itemize}      \item エラーコードいる？(やりなおせないのでは？)  \item エラーメッセージの様式 \redtext{(PSERROR: わかりやすいメッセー    ジ、関数名、こまかいメッセージ)}  \item エラー処理必要なところ    \begin{itemize}    \item 入力ファイルない    \item メモリ確保失敗    \item 規定(2G)より大きな配列    \item ツリーのルートセル外に粒子    \item ユーザーの不適切な初期設定(コンパイルエラーにできないものとかの    場合)    \item \redtext{浮動小数点例外？}    \item \redtext{セグメンテーションフォールト？}    \end{itemize}  \item \redtext{signal handler要検討}  \end{itemize}\item API  \begin{itemize}  \item 相互作用リスト \redtext{(v1.0ではスレッドセーフではないというこ    とを書く)}  \item 通信データクラスにブロードキャストがほしい  \end{itemize}\item 実装  \begin{itemize}  \item Paritlce Meshどういうテストすべきか？ \redtext{(検討)}  \item 領域分割をユーザーが手で変更できるようにするか？ \redtext{(裏API)}  \item ツリー内の位置情報を64bitにするか \redtext{(する)}  \item 相互作用ツリークラスの高レベル関数について  \item メルセンヌツイスターの名前空間  \end{itemize}\item \redtext{テストスィートAPIごと}  \redtext{  \item {\bf 最優先} 3/1までにアルファ版をつくる    \begin{itemize}    \item インストールガイド      \begin{itemize}      \item ソースの場所      \item 取得の仕方      \item 展開の仕方      \item サンプルコードの場所      \item サンプルコードのコンパイルの仕方      \item サンプルコードの動かし方      \end{itemize}    \end{itemize}  }\end{itemize}\newpage%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\section{15/02/18}\begin{itemize}\item S64のtypedefがlongだけど大丈夫？\item clangを除くではなく、openmp対応のコンパイラ\item C++03以降対応のコンパイラ\item MPI対応のコンパイラ\item configureについてはできてないならチュートリアルにはかかない(今の  ところconfigureは必要でない)\item サンプルコードの結果の見方\item MPIデータ型の修正(これはなし)\item 来週までにgithubに上げる\end{itemize}\newpage%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\section{15/02/24}\begin{itemize}\item FDPS内のsetPosの手前でshiftを足すの危くない？  \begin{itemize}  \item そもそも内部で桁落ちする  \item ユーザーがF32vecにしたときにも桁落ちする     \end{itemize}\item 詳細記述書(fdps/document/document\_description/doc.pdf)の動作概  略的なのがチュートリアルか仕様書のどこかに必要な気がする。  \redtext{縮小版をチュートリアルに、フルを仕様書に}\end{itemize}\newpage%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\section{15/03/03}\begin{itemize}\item ファイル  \begin{itemize}  \item このファイル: \$(FDPS)/sandbox/tanikawa\_box/memo/memo\_tanikawa.pdf  \item 仕様書: \$(FDPS)/doc/doc\_specs.pdf  \item チュートリアル: \$(FDPS)/doc/doc\_tutorial.pdf  \item 論文下書き: \$(FDPS)/sc15/fdps\_sc15.pdf  \end{itemize}\item ユーザーの問い合せ先のメールアドレス(今は仮に  ataru.tanikawa@riken.jpになっているが、専用のアドレスを作った方がよ  いのではないか) \redtext{fdps-support@mail.jmlab.jp}\item アルファ版について\item SC15 registration  \begin{itemize}  \item Rules    \begin{itemize}    \item Up to a maximum of 10 pages, not including references    \end{itemize}  \item Title  \item Author  \item Requested Areas (第２希望まで)    \begin{itemize}    \item Algorithms    \item Applications \redtext{第２希望}    \item Architecture and Networks    \item Clouds \& Distributed Computing    \item Data Analytics, Visualization \& Storage    \item Performance    \item Programming Systems \redtext{第１希望}    \item State of the Practice    \item System Software    \end{itemize}  \item Keywords (2 -- 5 in total, 1 -- 3 per area from the above)    \begin{itemize}    \item Applications: Computational earth and atmospheric sciences      \redtext{これ}    \item Applications: Computational astrophysics/astronomy,      chemistry, fluid dynamics, mechanics and physics \redtext{これ}    \item Performance: Analysis, modeling or simulation for      performance, power and/or resilience    \item Programming Systems: Parallel application frameworks      \redtext{これ}    \item Programming Systems: Parallel programming languages,      libraries, models and notations    \item Programming Systems: Tools for parallel program development      (e.g., debuggers and integrated development environments)    \end{itemize}  \item Abstract    \begin{itemize}    \item No more than 150 words    \item Paragraph breaks by a blank line in the text field    \end{itemize}  \item Conference Presentations  \end{itemize}\item SC15 paper 色々  \begin{itemize}  \item Categories and Subject Descriptors    (http://www.acm.org/about/class/ccs98-html)%%    (I.6.7 [Simulation and Modeling]: Simulation Support Systems)%%    (I.6.8 [Simulation and Modeling]: Types of Simulation -- Parallel)      \item General Terms (Algorithms, Design, Documentation, Economics,    Experimentation, Human Factors, Languages, Legal Aspects,    Management, Measurement, Performance, Reliability, Security,    Standardization, Theory, Verification) いくつでも選べる(0でもよい)  \item Keywords (選択肢なし？)  \end{itemize}\item SC15 paper 構成  \begin{itemize}  \item Introduction (なんでFDPSみたいなものが必要か？)    \begin{itemize}    \item 粒子シミュレーションは有用      \begin{itemize}      \item 構造が複雑な場合は格子法に比べて有利      \item 様々な分野で利用      \end{itemize}    \item 粒子シミュレーションの大規模化に対する要請      \begin{itemize}      \item より計算コストの大きい、複雑な現象を解きたい      \item 大規模並列計算機の存在      \end{itemize}    \item 粒子シミュレーションを大規模化する時の問題点      \begin{itemize}      \item プログラムが困難：ロードバランスのための動的領域分割、 領        域分割に合わせた粒子交換 ノード間通信の削減と最適化、 キャッシュ        利用効率の向上、SIMDユニット利用効率の向上、アクセラレータ      \item やることは同じなのに各グループが個別に開発：      \end{itemize}    \item 共通のフレームワークを作ることで問題を解決      \begin{itemize}      \item 利点：研究者がよりクリエイティブなことに専念できる      \item 過去のアプローチとその問題点：\redtext{アプリケーションご        とにはある(Gadget, PAM-CRASH etc.), 汎用?(portable        parallel particle program)}      \item 我々のアプローチとその利点：わかりやすいインターフェース、        高い性能      \end{itemize}    \item 論文の構成：実装、サンプルコード、性能、デモ、結論    \end{itemize}  \item Implementation    \begin{itemize}    \item 粒子シミュレーションのループのoverview (我々による抽象化？)      \begin{itemize}      \item 概念式        \begin{align}          \frac{d\bm{u}_i}{dt} = \sum_j f(\bm{u}_i,\bm{u}_j) + \sum_j          g(\bm{u}_i,\bm{v}_i)        \end{align}        $f$: 粒子--粒子相互作用, $g$: 粒子--超粒子(相互？)作用,        $\bm{u}_i$: 粒子の物理量ベクトル, $\bm{v}_j$: 超粒子の物理量ベ        クトル      \item ロードバランスのための領域分割 (微分方程式の分担決め1)      \item 領域分割に合わせた粒子交換 (微分方程式の分担決め2)      \item 相互作用リストの作成：ローカルツリー、LET交換、グローバル        ツリー、$i$グループ作成、$i$グループに対する相互作用リスト作成        (シグマ内の$j$決め)      \item 相互作用計算 (シグマ内)      \item 時間積分, 組成進化, etc.      \end{itemize}    \item 考え方、FDPSとユーザーの役割分担      \begin{itemize}      \item FDPS: 並列化がからんだ複雑な処理(領域分割、粒子交換、相互        作用リストの作成)、これらをモジュール化する      \item ユーザー: 特殊化(粒子の定義、相互作用の定義など)、APIの呼        出、並列化のからまない単純な処理(相互作用計算、時間積分、組成        進化、外場など)      \item スキーマティックな図(領域クラス、粒子群クラス、相互作用ツ        リークラス、ユーザー)      \end{itemize}    \item ユーザーの仕事      \begin{itemize}      \item 特殊化: 粒子の定義 (粒子群クラスのテンプレート引数)、 相互        作用の定義 (相互作用クラスのテンプレート引数(既存のものから選        択も可); 関数オブジェクト; 境界条件)      \item APIの呼出(C++)      \item 時間積分とか      \end{itemize}    \item 使用言語: C++ \redtext{なくてもいい}    \item モジュール構成 \redtext{なくてもいい}      \begin{itemize}      \item 領域クラス (データ: 領域情報; API: decomposeDomainAll)      \item 粒子群クラス (データ: 粒子情報; API: exchangeParticle; テ        ンプレート引数: FP)      \item 相互作用ツリークラス (データ: ツリー構造; API:        calcForceAllAndWriteBack; テンプレート引数: SEARCH\_MODE,        Force, EPI, EPJ, MomentLocal, MomentGlobal, SPJ; 関数オブジェ        クト: calcForceEpEp, calcForceSpEp; マクロ: 座標系指定,        MPI/OpenMPのオンオフ; 動的指定: 境界条件)      \item 通信データクラス      \item Particle Meshクラス      \end{itemize}    \end{itemize}  \item Sample codes    \begin{itemize}    \item N-body \redtext{こちらだけ; 記述は、粒子定義、相互作用定義、      (main関数)}    \item SPH    \end{itemize}  \item Performance    \begin{itemize}    \item N-body \redtext{(weak scaling, strong scaling)}    \item \redtext{SPH+N-body, giant impact (weak scaling, strong      scaling)}    \item MD \redtext{無しで}    \item \redtext{長時間やっても動くと一言}    \item \redtext{なんかきれいな絵(スパイラル？)}    \end{itemize}  \item Discussion and Conclusion    \begin{itemize}    \item 補足      \begin{itemize}      \item 独立時間刻みへの対応      \item SIMD, アクセラレータへの対応      \item etc.      \end{itemize}          \end{itemize}        \end{itemize}\item SC15 paper 予定  \begin{itemize}  \item -- 4/3 (UTC-12) (アブストラクト締切)    \begin{itemize}    \item Introduction, Implementation, Sample code完成    \item Performanceの数字    \end{itemize}  \item 4/3 (UTC-12) -- 4/17 (UTC-12)    \begin{itemize}    \item Performance, Demonstration, Conclusion完成    \end{itemize}  \end{itemize}\item 役割責任者  \begin{itemize}  \item Performance(N-body)：岩澤  \item Performance(SPH)、きれいな図作成：細野  \item 本文、他細々したこと：谷川  \item \redtext{SIMD: 似鳥}  \item \redtext{英語チェック: 村主}  \end{itemize}\end{itemize}\newpage%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\section{15/03/10}\begin{itemize}\item 今日のファイル  \begin{itemize}  \item このファイル: \$(FDPS)/sandbox/tanikawa\_box/mem/memo\_tanikawa.pdf  \item このファイル: \$(FDPS)/doc/doc\_specs.pdf  \end{itemize}\item Phantom-GRAPEとかをライブラリとして加える？\end{itemize}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\section{15/03/17}\input{150317.tex}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\section{15/03/23}\input{150323.tex}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\section{15/04/01}\input{150401.tex}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\section{15/06/17}\input{150617.tex}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\section{15/06/24}\input{150624.tex}\end{document}