# (i) Compiler, compile options, etc.
CXX	= time -p g++-mp-8
CXXFLAGS = -O3 -ffast-math -funroll-loops
LDFLAGS = 

# (ii) Job submission variables
WORKDIR = ./work-macports/

# (iii) Source files and executable
SRC	= main.cpp
OBJ	= $(SRC:cpp=o) 
TARGET	= a.out

# Default rule
%.o : %.cpp
	$(CXX) $(CXXFLAGS) -c $<

all: $(TARGET)

$(TARGET): $(OBJ)
	$(CXX) $(CXXFLAGS) -o $@ $^ $(LDFLAGS)
	mkdir -p $(WORKDIR)
	mv $@ $(WORKDIR)

clean:
	rm -f *.o

distclean: clean
	rm -f $(TARGET)
	rm -f *.txt
