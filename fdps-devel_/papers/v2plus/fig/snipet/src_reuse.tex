\documentclass[10pt,onecolumn,a4paper,fleqn]{article}
%\documentclass[10pt,twocolumn,a4paper,fleqn]{article}

%%%%% AUTHORS - PLACE YOUR OWN PACKAGES HERE %%%%%
\usepackage[x11names,table]{xcolor}
\usepackage{moresize}
\usepackage{minted}
\usepackage{mdframed}
\usepackage{caption}

%%% minted setting %%%
\setminted{fontsize=\ssmall,baselinestretch=1}
%\setminted{fontsize=\fontsize{6.25}{7.25}\selectfont,baselinestretch=1}

%%% Page size setting %%%
\topmargin=0mm
\oddsidemargin=-5mm
\evensidemargin=-5mm
\textheight=222mm
\textwidth=130mm
%\textwidth=200mm


% Beginning of document
\begin{document}
\pagenumbering{gobble}

%TODO: コードが1ページ以内に収まるように最低限の部分だけを残す。
\definecolor{bg}{rgb}{0.95,0.95,0.95}
\begin{mdframed}[
    backgroundcolor=bg,
    topline=false,
    bottomline=false,
    leftline=false,
    rightline=false]
  \begin{minted}[fontfamily=courier,linenos=true, breaklines]{cpp}

int main(int argc, char *argv[]) {
      
  // initialize FDPS (omitted)
  
  PS::ParticleSystem<FP> system;
  PS::DomainInfo dinfo;
  PS::TreeForForceLong<FORCE, EPI, EPJ>::Monopole tree;

  // set initial condition (omitted)

  PS::S32 n_loop =0;
  while(time_sys < time_end){
    PS::INTERACTION_LIST_MODE int_mode = PS::REUSE_LIST;
    if(n_loop % 8 == 0){
      dinfo.decomposeDomainAll(system);
      system.exchangeParticle(dinfo);
      int_mode = PS::MAKE_LIST_FOR_REUSE;
    }
    
    tree.calcForceAllAndWriteBackMultiWalkIndex(DispatchKernelIndex,
                                                RetrieveKernel,
                                                tag_max,
                                                system,
                                                dinfo,
                                                n_walk_limit,
                                                true,
                                                int_mode);

    // integrate orbits of particles (omitted)

    n_loop++;
  }
  return 0;
}
  
  \end{minted}
\end{mdframed}

% End of Document

\end{document}
