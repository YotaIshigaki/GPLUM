\subsubsection{Summary}%EssentialParticleIクラスは相互作用の計算に必要なi粒子の情報を持つクラ%スであり、相互作用の定義(節\ref{sec:overview_action}の手順0)に必要とな%る。EssentialParticleIクラスはFullParticleクラス%(節\ref{sec:fullparticle})のサブセットである。FDPSは、このクラスのデー%タにアクセスする必要がある。そのため、EssentialParticleIクラスはいくつ%かのメンバ関数を持つ必要がある。以下、この節の前提、常に必要なメンバ関%数と、場合によっては必要なメンバ関数について記述する。The \texttt{EssentialParticleI} class should contain all information ofan $i-$ particle which is necessary to calculate interaction(see step 0 in Sec. \ref{sec:overview_action}).Class \texttt{EssentialParticleI} should have required member functionswith specific names, as described below.\subsubsection{Premise}%この節の中では、EssentialParticleIクラスとしてEPIというクラスを一例と%して使う。また、FullParticleクラスの一例としてFPというクラスを使う。%EPI, FPというクラス名は変更可能である。Let us take \texttt{EPI} and \texttt{FP} classes as examples of\texttt{EssentialParticleI} and \texttt{FullParticle} as below.Users can use arbitrary names in place of \texttt{EPI} and \texttt{FP}.%EPIとFPの宣言は以下の通りである。\begin{screen}\begin{verbatim}class FP;class EPI;\end{verbatim}\end{screen}\subsubsection{Required member functions}\subsubsubsection{Summary}%常に必要なメンバ関数はEPI::getPosとEPI::copyfromFPである。EPI::getPos%はEPIクラスの位置情報をFDPSに読み込ませるための関数で、EPI::copyFromFP%はFPクラスの情報をEPIクラスに書きこむ関数である。これらのメンバ関数の%記述例と解説を以下に示す。The member functions \texttt{EPI::getPos} and \texttt{EPI::copyFromForce} are required.\texttt{EPI::getPos} returns the position of a particle to FDPS.\texttt{EPI::copyFromFP} copies the information necessary for the interaction calculation from \texttt{FullParticle}.The examples and descriptions for these member functions are listed below.\subsubsubsection{EPI::getPos}\begin{screen}\begin{verbatim}class EPI {public:    PS::F64vec getPos() const;};\end{verbatim}\end{screen}\begin{itemize}\item {\bf Arguments}  None.  \item {\bf Returns}  %PS::F64vec型。EPIクラスの位置情報を保持したメンバ変数。  \texttt{PS::F64vec}.  Returns the position of a particle of \texttt{EPI} class.\end{itemize}\subsubsubsection{EPI::copyFromFP}\begin{screen}\begin{verbatim}class FP;class EPI {public:    void copyFromFP(const FP & fp);};\end{verbatim}\end{screen}\begin{itemize}\item {\bf Arguments}  %fp: 入力。const FP \&型。FPクラスの情報を持つ。  \texttt{fp}: Input. \texttt{const FP \&} type.\item {\bf Returns}  None.  \item {\bf Behaviour}  %FPクラスの持つ１粒子の情報の一部をEssnetialParticleIクラス  %に書き込む。  Copies the part of information of \texttt{FP} to \texttt{EssnetialParticleI}.  \end{itemize}\subsubsection{Required member functions for specific case}\subsubsubsection{Summary}%本節では、場合によっては必要なメンバ関数について記述する。相互作用ツリー%クラスのPS::SEARCH\_MODE型にPS::SEARCH\_MODE\_GATHERまたは%PS::SEARCH\_MODE\_SYMMETRYを用いる場合に必要となるメンバ関数ついて記述%する。In this section we describe the member functions in the case that \texttt{PS::SEARCH\_MODE\_GATHER} or \texttt{PS::SEARCH\_MODE\_SYMMETRY} are used.\subsubsubsection{Modes other than \texttt{PS::SEARCH\_MODE\_LONG} as \texttt{PS::SEARCH\_MODE} are used}\subsubsubsubsection{EPI::getRSearch}\begin{screen}\begin{verbatim}class EPI {public:    PS::F64 getRSearch() const;};\end{verbatim}\end{screen}\begin{itemize}\item {\bf Arguments}  None.  \item {\bf Returns}  %PS::F32型またはPS::F64型。 EPIクラスの近傍粒子を探す  %半径の大きさを保持したメンバ変数。  \texttt{PS::F32vec} or \texttt{PS::F64vec}.  Returns the value of the neighbour search radius in \texttt{EPI}.\end{itemize}